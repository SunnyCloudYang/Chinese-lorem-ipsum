(()=>{"use strict";function e(){return"undefined"!=typeof window}function t(){try{const e="production";if("development"===e||"test"===e)return"development"}catch(e){}return"production"}function n(){return"development"===((e()?window.vam:t())||"production")}function o(){return"development"===function(){try{const e="production";if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}var r="https://va.vercel-scripts.com/v1/speed-insights",s=`${r}/script.js`,d=`${r}/script.debug.js`;function c(e,t=!0){document.body.className=e,localStorage.setItem("theme",e),t&&function(e){const t=document.querySelector(".toast");document.getElementById("toast-message").textContent=e,t.classList.add("show"),setTimeout((()=>{document.querySelector(".toast").classList.remove("show")}),3e3)}("主题切换为 "+("light-theme"===e?"浅色":"深色"))}(function(o={debug:!0}){var r;if(!e())return;!function(e="auto"){window.vam="auto"!==e?e:t()}(o.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),o.beforeSend&&(null==(r=window.va)||r.call(window,"beforeSend",o.beforeSend));const s=o.scriptSrc||(n()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js");if(document.head.querySelector(`script[src*="${s}"]`))return;const d=document.createElement("script");d.src=s,d.defer=!0,d.dataset.sdkn="@vercel/analytics"+(o.framework?`/${o.framework}`:""),d.dataset.sdkv="1.3.1",o.disableAutoTrack&&(d.dataset.disableAutoTrack="1"),o.endpoint&&(d.dataset.endpoint=o.endpoint),o.dsn&&(d.dataset.dsn=o.dsn),d.onerror=()=>{const e=n()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${s}. ${e}`)},n()&&!1===o.debug&&(d.dataset.debug="false"),document.head.appendChild(d)})(),function(e={}){var t;if("undefined"==typeof window||null===e.route)return null;window.si||(window.si=function(...e){(window.siq=window.siq||[]).push(e)});const n=Boolean(e.dsn)?s:"/_vercel/speed-insights/script.js",r=e.scriptSrc||(o()?d:n);if(document.head.querySelector(`script[src*="${r}"]`))return null;e.beforeSend&&(null==(t=window.si)||t.call(window,"beforeSend",e.beforeSend));const c=document.createElement("script");c.src=r,c.defer=!0,c.dataset.sdkn="@vercel/speed-insights"+(e.framework?`/${e.framework}`:""),c.dataset.sdkv="1.0.12",e.sampleRate&&(c.dataset.sampleRate=e.sampleRate.toString()),e.route&&(c.dataset.route=e.route),e.endpoint&&(c.dataset.endpoint=e.endpoint),e.dsn&&(c.dataset.dsn=e.dsn),o()&&!1===e.debug&&(c.dataset.debug="false"),c.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${r}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(c)}(),document.querySelector(".theme-toggle"),document.addEventListener("DOMContentLoaded",(function(){const e=localStorage.getItem("theme");c(e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark-theme":"light-theme"),!1)}));const a=document.getElementById("text-background");window.onload=function(){try{fetch("/api/generate/").then((e=>{e.ok?(console.log("Connected to the server"),e.json().then((e=>{let t=e.loremText;for(a.textContent=t;a.clientHeight>=a.scrollHeight;)t+=e.loremText,a.textContent=t;a.textContent="",a.classList.add("show"),new Typed("#text-background",{strings:[t],loop:!1,showCursor:!1})}))):console.error("Failed to connect to the server")}))}catch(e){console.error("Failed to connect to the server")}},window.onresize=function(){for(;a.clientHeight>=a.scrollHeight;)a.textContent=a.textContent+a.textContent}})();